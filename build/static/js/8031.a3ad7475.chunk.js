"use strict";(self.webpackChunkAjel_admin=self.webpackChunkAjel_admin||[]).push([[8031,9886],{5645:function(e,n,t){var r=t(9139),a=(t(7313),t(7393)),i=t(5554),d=t(4267),o=t(6417);n.Z=function(e,n){return function(t){var c=(0,i.v9)((function(e){return e.profile})).data;return(0,d.Zu)(e,n,c)?t:function(){return(0,o.jsx)(r.ZP,{status:"403",title:"403",subTitle:(0,o.jsx)(a.Z,{id:"message.unauthorized"})})}}}},4829:function(e,n,t){t.r(n);var r=t(9439),a=t(7313),i=t(3591),d=t(6059),o=t(6778),c=t(5239),s=t(9918),l=t(2870),u=t(9491),f=t(8197),Z=t(9624),m=t(3375),h=t(685),p=t(7393),x=t(5554),j=t(8467),g=t(9888),v=t(7515),y=t(9432),b=t(1245),_=t(6869),k=t(34),O=t(5645),P=t(4267),w=t(6417),A=o.Z.Option;n.default=(0,k.Z)((function(){var e=(0,j.TH)().pathname.split("/").filter((function(e){return e})),n=("/".concat(e.slice(0,2).join("/")),(0,x.v9)((function(e){return e.profile.data}))),t=(0,x.v9)((function(e){return e.Auth})).idToken,k=(0,x.v9)((function(e){return e.LanguageSwitcher.language})).locale,O=(0,j.UO)().id,B=(0,b.Z)(),S=(0,r.Z)(B,1)[0],z=(0,j.s0)(),E=(0,a.useState)(!1),C=(0,r.Z)(E,2),N=C[0],I=C[1],T=(0,a.useState)(!1),X=(0,r.Z)(T,2),F=X[0],q=X[1],L=(0,a.useState)(!1),U=(0,r.Z)(L,2),Y=U[0],D=U[1],H=(0,a.useState)([]),R=(0,r.Z)(H,2),V=R[0],G=R[1],J=(0,a.useState)(!1),K=(0,r.Z)(J,2),M=K[0],Q=K[1],W=(0,a.useState)(0),$=(0,r.Z)(W,2),ee=$[0],ne=$[1];return(0,a.useEffect)((function(){Q(!0),i.Z.get("departments",{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}).then((function(e){G(e.data.data),Q(!1)})).catch((function(){Q(!1)}))}),[t]),(0,a.useEffect)((function(){O&&(D(!0),i.Z[_.config.findOne.method]("".concat(_.config.findOne.url,"/").concat(O),{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}).then((function(e){S.setFieldsValue(e.data.data),D(!1)})).catch((function(e){D(!1)})))}),[O,t,S]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(s.Z,{spinning:Y||M,children:[(0,w.jsx)("div",{className:"flex flex-row-reverse",children:O&&(0,P.Zu)(_.config.delete.url,_.config.delete.type,n)?(0,w.jsx)(l.Z,{title:(0,w.jsx)(p.Z,{id:"delete.deleteItem"}),description:(0,w.jsx)(p.Z,{id:"delete.areYouSure"}),onConfirm:function(){return q(!0),void d.Am.promise(i.Z[_.config.delete.method]("".concat(_.config.delete.url,"/").concat(O),{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}),{loading:"ar"===k?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629 ":"Pending",success:function(e){var n=e.data.message;return z(-1),q(!1),n||"Backend Error Occured"},error:function(e){var n,t;return q(!1),(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Backend Error Occured"}})},icon:(0,w.jsx)(g.Z,{style:{color:"red"}}),children:(0,w.jsx)(u.ZP,{loading:F,icon:(0,w.jsx)(v.Z,{}),type:"primary",danger:!0,children:(0,w.jsx)(p.Z,{id:"delete"})})}):""}),(0,w.jsx)(f.Z,{children:(0,w.jsx)(Z.Z,{span:24,children:(0,w.jsxs)(m.Z,{form:S,onFinish:function(e){var n=new FormData;for(var r in e)n.append(r,e[r]);"post"===_.config.edit.method&&O&&n.append("_method","put"),I(!0),d.Am.promise(i.Z[O?_.config.edit.method:_.config.add.method](O?"".concat(_.config.edit.url,"/").concat(O):_.config.add.url,e,{onUploadProgress:function(e){var n=e.loaded/e.total*100;ne(n)},headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}),{loading:(0,w.jsxs)("div",{className:"min-w-[200px]",children:["ar"===k?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629 ":"Pending",(0,w.jsx)("div",{children:ee?(0,w.jsx)(c.Z,{percent:ee}):null})]}),success:function(e){var n=e.data.message;return z(-1),I(!1),ne(0),n||"Backend Error Occured"},error:function(e){var n,t;return I(!1),ne(0),(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Backend Error Occured"}})},layout:"vertical",className:"login-form",children:[(0,w.jsx)(m.Z.Item,{label:(0,w.jsx)(p.Z,{id:"name_en"}),name:"name_en",rules:[{required:!0,message:(0,w.jsx)(p.Z,{id:"name_en"})}],children:(0,w.jsx)(h.Z,{type:"text",size:"large"})}),(0,w.jsx)(m.Z.Item,{label:(0,w.jsx)(p.Z,{id:"name_ar"}),name:"name_ar",rules:[{required:!0,message:(0,w.jsx)(p.Z,{id:"name_ar"})}],children:(0,w.jsx)(h.Z,{type:"text",size:"large"})}),(0,w.jsx)(m.Z.Item,{label:(0,w.jsx)(p.Z,{id:"department_id"}),name:"department_id",rules:[{required:!0,message:(0,w.jsx)(p.Z,{id:"department_id"})}],children:(0,w.jsx)(o.Z,{size:"large",placeholder:(0,w.jsx)(p.Z,{id:"department_id"}),children:V.map((function(e){return(0,w.jsx)(A,{value:e.id,children:"ar"===k?e.name_ar:e.name_en},e.id)}))})}),(0,w.jsxs)("div",{className:"flex gap-4 flex-wrap mt-8",children:[(0,w.jsx)(u.ZP,{className:"w-[90px]",icon:(0,w.jsx)(y.Z,{}),loading:N,type:"primary",htmlType:"submit",children:(0,w.jsx)("span",{children:(0,w.jsx)(p.Z,{id:"global.save"})})}),(0,w.jsx)(u.ZP,{onClick:function(){return z(-1)},className:"w-[90px]",children:(0,w.jsx)(p.Z,{id:"global.back"})})]})]})})})]})})}),[(0,O.Z)(_.config.edit.url,_.config.edit.type)])},6869:function(e,n,t){t.r(n),t.d(n,{config:function(){return O}});var r=t(1413),a=t(3433),i=t(9439),d=t(7313),o=t(9095),c=t(3566),s=t(2006),l=t(2019),u=t(1741),f=t(9888),Z=t(7515),m=t(8467),h=t(6059),p=t(9491),x=t(2870),j=t(5554),g=t(3591),v=t(7393),y=t(34),b=t(5645),_=t(4267),k=t(6417),O={add:{url:"job-titles",method:"post",type:"create"},edit:{url:"job-titles",method:"put",type:"update"},delete:{url:"job-titles",method:"delete",type:"delete"},findOne:{url:"job-titles",method:"get",type:"read"}};n.default=(0,y.Z)((function(){var e=(0,m.s0)(),n=(0,j.v9)((function(e){return e.profile.data})),t=(0,j.v9)((function(e){return e.Auth})).idToken,y=(0,j.v9)((function(e){return e.LanguageSwitcher.language})).locale,b=(0,d.useState)(!1),P=(0,i.Z)(b,2),w=P[0],A=P[1];return(0,k.jsx)(o.Z,{config:O,url:"job-titles",refresher:w,addURL:"add",cols:(0,c._)([(0,r.Z)({title:"name_en",key:"name_en",sorter:!0},(0,s.Z)()),(0,r.Z)({title:"name_ar",key:"name_ar",sorter:!0},(0,s.Z)())].concat((0,a.Z)((0,_.Zu)(O.edit.url,O.edit.type,n)||(0,_.Zu)(O.findOne.url,O.findOne.type,n)||(0,_.Zu)(O.delete.url,O.delete.type,n)?[{title:"actions",content:function(r,a){return(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,_.Zu)(O.edit.url,O.edit.type,n)?(0,k.jsx)(p.ZP,{onClick:function(){return e("edit/".concat(a.id))},icon:(0,k.jsx)(l.Z,{},"edit")}):"",(0,_.Zu)(O.findOne.url,O.findOne.type,n)?(0,k.jsx)(p.ZP,{onClick:function(){return e("show/".concat(a.id))},icon:(0,k.jsx)(u.Z,{},"show")}):"",(0,_.Zu)(O.delete.url,O.delete.type,n)?(0,k.jsx)(x.Z,{title:(0,k.jsx)(v.Z,{id:"delete.deleteItem"}),description:(0,k.jsx)(v.Z,{id:"delete.areYouSure"}),onConfirm:function(){return e=a.id,void h.ZP.promise(g.Z[O.delete.method]("".concat(O.delete.url,"/").concat(e),{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}),{loading:"ar"===y?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629 ":"Pending",success:function(e){var n=e.data.message;return A((function(e){return!e})),n||"Backend Error Occured"},error:function(e){var n,t;return(null===(n=e.response)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.message)||"Backend Error Occured"}});var e},icon:(0,k.jsx)(f.Z,{style:{color:"red"}}),children:(0,k.jsx)(p.ZP,{icon:(0,k.jsx)(Z.Z,{}),type:"primary",danger:!0})}):""]})}}]:[])))})}),[(0,b.Z)(O.findOne.url,O.findOne.type)])}}]);