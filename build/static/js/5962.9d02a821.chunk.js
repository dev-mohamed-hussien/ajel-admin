"use strict";(self.webpackChunkAjel_admin=self.webpackChunkAjel_admin||[]).push([[5962,7511,135],{5645:function(e,t,n){var r=n(9139),s=(n(7313),n(7393)),o=n(5554),a=n(4267),i=n(6417);t.Z=function(e,t){return function(n){var d=(0,o.v9)((function(e){return e.profile})).data;return(0,a.Zu)(e,t,d)?n:function(){return(0,i.jsx)(r.ZP,{status:"403",title:"403",subTitle:(0,i.jsx)(s.Z,{id:"message.unauthorized"})})}}}},140:function(e,t,n){n.r(t);var r=n(5645),s=n(4534),o=n(34),a=n(4335),i=n(6417);t.default=(0,o.Z)((function(){return(0,i.jsx)(s.default,{})}),[(0,r.Z)(a.config.add.url,a.config.add.type)])},4534:function(e,t,n){n.r(t);var r=n(9439),s=n(7313),o=n(3591),a=n(6059),i=n(5239),d=n(9918),c=n(2870),l=n(9491),u=n(8197),f=n(9624),m=n(3375),x=n(685),h=n(7393),p=n(5554),g=n(8467),Z=n(9888),j=n(7515),v=n(9432),A=n(1245),b=n(4335),y=n(5645),N=n(34),k=n(4267),w=n(6417);t.default=(0,N.Z)((function(){var e=(0,g.TH)().pathname.split("/").filter((function(e){return e})),t=("/".concat(e.slice(0,2).join("/")),(0,p.v9)((function(e){return e.Auth})).idToken),n=(0,p.v9)((function(e){return e.LanguageSwitcher.language})).locale,y=(0,g.UO)().id,N=(0,A.Z)(),P=(0,r.Z)(N,1)[0],O=(0,g.s0)(),S=(0,s.useState)(!1),_=(0,r.Z)(S,2),C=_[0],B=_[1],E=(0,s.useState)(!1),z=(0,r.Z)(E,2),F=z[0],I=z[1],T=(0,s.useState)(!1),L=(0,r.Z)(T,2),U=L[0],X=(L[1],(0,s.useState)(0)),D=(0,r.Z)(X,2),R=D[0],Y=D[1],q=(0,s.useState)(!1),V=(0,r.Z)(q,2),H=V[0],K=V[1];(0,s.useEffect)((function(){}),[]),(0,s.useEffect)((function(){y&&(I(!0),o.Z[b.config.findOne.method]("".concat(b.config.findOne.url,"/").concat(y),{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}).then((function(e){P.setFieldsValue(e.data.data),I(!1)})).catch((function(e){I(!1)})))}),[y,t,P]);var G=(0,p.v9)((function(e){return e.profile.data}));return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(d.Z,{spinning:F||U,children:[(0,w.jsx)("div",{className:"flex flex-row-reverse",children:y&&(0,k.Zu)(b.config.delete.url,b.config.delete.type,G)?(0,w.jsx)(c.Z,{title:(0,w.jsx)(h.Z,{id:"delete.deleteItem"}),description:(0,w.jsx)(h.Z,{id:"delete.areYouSure"}),onConfirm:function(){return K(!0),void a.Am.promise(o.Z[b.config.delete.method]("".concat(b.config.delete.url,"/").concat(y),{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}),{loading:"ar"===n?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629 ":"Pending",success:function(e){var t=e.data.message;return O(-1),K(!1),t||"Backend Error Occured"},error:function(e){var t,n;return K(!1),(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Backend Error Occured"}})},icon:(0,w.jsx)(Z.Z,{style:{color:"red"}}),children:(0,w.jsx)(l.ZP,{loading:H,icon:(0,w.jsx)(j.Z,{}),type:"primary",danger:!0,children:(0,w.jsx)(h.Z,{id:"delete"})})}):""}),(0,w.jsx)(u.Z,{children:(0,w.jsx)(f.Z,{span:24,children:(0,w.jsxs)(m.Z,{form:P,onFinish:function(e){var r=new FormData;for(var s in e)r.append(s,e[s]);"post"===b.config.edit.method&&y&&r.append("_method","put"),B(!0),a.Am.promise(o.Z[y?b.config.edit.method:b.config.add.method](y?"".concat(b.config.edit.url,"/").concat(y):b.config.add.url,e,{onUploadProgress:function(e){var t=e.loaded/e.total*100;Y(t)},headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(t)}}),{loading:(0,w.jsxs)("div",{className:"min-w-[200px]",children:["ar"===n?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629 ":"Pending",(0,w.jsx)("div",{children:R?(0,w.jsx)(i.Z,{percent:R}):null})]}),success:function(e){var t=e.data.message;return O(-1),B(!1),Y(0),t||"Backend Error Occured"},error:function(e){var t,n;return B(!1),Y(0),(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Backend Error Occured"}})},layout:"vertical",className:"login-form",children:[(0,w.jsx)(m.Z.Item,{label:(0,w.jsx)(h.Z,{id:"name_en"}),name:"name_en",rules:[{required:!0,message:(0,w.jsx)(h.Z,{id:"name_en"})}],children:(0,w.jsx)(x.Z,{type:"text",size:"large"})}),(0,w.jsx)(m.Z.Item,{label:(0,w.jsx)(h.Z,{id:"name_ar"}),name:"name_ar",rules:[{required:!0,message:(0,w.jsx)(h.Z,{id:"name_ar"})}],children:(0,w.jsx)(x.Z,{type:"text",size:"large"})}),(0,w.jsxs)("div",{className:"flex gap-4 flex-wrap mt-8",children:[(0,w.jsx)(l.ZP,{className:"w-[90px]",icon:(0,w.jsx)(v.Z,{}),loading:C,type:"primary",htmlType:"submit",children:(0,w.jsx)("span",{children:(0,w.jsx)(h.Z,{id:"global.save"})})}),(0,w.jsx)(l.ZP,{onClick:function(){return O(-1)},className:"w-[90px]",children:(0,w.jsx)(h.Z,{id:"global.back"})})]})]})})})]})})}),[(0,y.Z)(b.config.edit.url,b.config.edit.type)])},4335:function(e,t,n){n.r(t),n.d(t,{config:function(){return N}});var r=n(3433),s=n(1413),o=n(9439),a=n(7313),i=n(9095),d=n(3566),c=n(2006),l=n(2019),u=n(1741),f=n(9888),m=n(7515),x=n(8467),h=n(6059),p=n(9491),g=n(2870),Z=n(5554),j=n(3591),v=n(7393),A=n(34),b=n(4267),y=n(6417),N={add:{url:"areas",method:"post",type:"create"},edit:{url:"areas",method:"put",type:"update"},delete:{url:"areas",method:"delete",type:"delete"},findOne:{url:"school/get",method:"get",type:"read"}};t.default=(0,A.Z)((function(){var e=(0,Z.v9)((function(e){return e.profile.data})),t=(0,x.s0)(),n=(0,Z.v9)((function(e){return e.Auth})).idToken,A=(0,Z.v9)((function(e){return e.LanguageSwitcher.language})).locale,k=(0,a.useState)(!1),w=(0,o.Z)(k,2),P=w[0],O=w[1],S={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("header",{className:"bg-white py-6 px-10 flex justify-between items-center",children:[(0,y.jsx)("h1",{className:"text-2xl font-bold",children:"Schools List"}),(0,y.jsxs)("div",{className:"flex gap-4",children:[(0,y.jsx)(p.ZP,{className:"text-base p-3 rounded h-auto ",type:"default",children:"Import From CSV"}),(0,y.jsx)(p.ZP,{className:"text-base p-3 rounded h-auto ",type:"primary",children:"Add Schoold"})]})]}),(0,y.jsxs)("main",{className:"p-4",children:[(0,y.jsxs)("section",{className:"stats-section grid gap-4 grid-cols-[repeat(auto-fit,minmax(240px,auto))]",children:[(0,y.jsxs)("div",{className:"p-6 bg-white border-solid border-[1px] border-[#A3A7AA] rounded-lg",children:[(0,y.jsx)("h1",{className:" text-xs text-[#A3A7AA] ",children:"No. of schools"}),(0,y.jsx)("h2",{className:" text-sm font-medium",children:"200"})]}),(0,y.jsxs)("div",{className:"p-6 bg-white border-solid border-[1px] border-[#A3A7AA] rounded-lg",children:[(0,y.jsx)("h1",{className:" text-xs text-[#A3A7AA] ",children:"No. of schools"}),(0,y.jsx)("h2",{className:" text-sm font-medium",children:"200"})]}),(0,y.jsxs)("div",{className:"p-6 bg-white border-solid border-[1px] border-[#A3A7AA] rounded-lg",children:[(0,y.jsx)("h1",{className:" text-xs text-[#A3A7AA] ",children:"No. of schools"}),(0,y.jsx)("h2",{className:" text-sm font-medium",children:"200"})]}),(0,y.jsxs)("div",{className:"p-6 bg-white border-solid border-[1px] border-[#A3A7AA] rounded-lg",children:[(0,y.jsx)("h1",{className:" text-xs text-[#A3A7AA] ",children:"No. of schools"}),(0,y.jsx)("h2",{className:" text-sm font-medium",children:"200"})]})]}),(0,y.jsx)(i.Z,{rowClassName:function(e,t){return t%2===0?"odd-row":"even-row"},rowSelection:(0,s.Z)({type:"checkbox"},S),getData:function(e){return""},config:N,url:"areas",refresher:P,addURL:"add",cols:(0,d._)([(0,s.Z)({title:"name",key:"name",sorter:!0},(0,c.Z)()),(0,s.Z)({title:"username",sorter:!0,key:"username"},(0,c.Z)()),{title:"contact_number",sorter:!0,key:"contact_number"},{title:"government",sorter:!0,key:"government"},{title:"city",sorter:!0,key:"city"},{title:"status",sorter:!0,key:"status"}].concat((0,r.Z)((0,b.Zu)(N.edit.url,N.edit.type,e)||(0,b.Zu)(N.findOne.url,N.findOne.type,e)||(0,b.Zu)(N.delete.url,N.delete.type,e)?[{title:"actions",content:function(r,s){return(0,y.jsxs)("div",{className:"flex gap-2",children:[(0,b.Zu)(N.edit.url,N.edit.type,e)?(0,y.jsx)(p.ZP,{onClick:function(){return t("edit/".concat(s.id))},icon:(0,y.jsx)(l.Z,{},"edit")}):"",(0,b.Zu)(N.findOne.url,N.findOne.type,e)?(0,y.jsx)(p.ZP,{onClick:function(){return t("show/".concat(s.id))},icon:(0,y.jsx)(u.Z,{},"show")}):"",(0,b.Zu)(N.delete.url,N.delete.type,e)?(0,y.jsx)(g.Z,{title:(0,y.jsx)(v.Z,{id:"delete.deleteItem"}),description:(0,y.jsx)(v.Z,{id:"delete.areYouSure"}),onConfirm:function(){return e=s.id,void h.ZP.promise(j.Z[N.delete.method]("".concat(N.delete.url,"/").concat(e),{headers:{"X-Portal":"dashboard",Authorization:"Bearer ".concat(n)}}),{loading:"ar"===A?"\u062c\u0627\u0631\u064a \u0627\u0644\u0645\u0639\u0627\u0644\u062c\u0629 ":"Pending",success:function(e){var t=e.data.message;return O((function(e){return!e})),t||"Backend Error Occured"},error:function(e){var t,n;return(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Backend Error Occured"}});var e},icon:(0,y.jsx)(f.Z,{style:{color:"red"}}),children:(0,y.jsx)(p.ZP,{icon:(0,y.jsx)(m.Z,{}),type:"primary",danger:!0})}):""]})}}]:[])))})]})]})}),[])},34:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),s=(n(7313),n(6417));function o(e,t){return function(n){if(0===t.length||!t)return(0,s.jsx)(e,{});var o=function(){return(0,s.jsx)("h1",{children:"You should return component or next function"})},a=function(e,t,n){var r=0;return t[r](e,(function s(o){return++r<t.length?t[r](e,s):n(e)}))}(e,t,(function(e){return e}));return a?(0,s.jsx)(a,(0,r.Z)({},n)):(0,s.jsx)(o,{})}}}}]);